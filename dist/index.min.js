!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.PortalVue=t.PortalVue||{})}(this,function(t){"use strict";function e(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function n(t){switch(t.arrayFormat){case"index":return function(e,n,r){return null===n?[o(e,t),"[",r,"]"].join(""):[o(e,t),"[",o(r,t),"]=",o(n,t)].join("")};case"bracket":return function(e,n){return null===n?o(e,t):[o(e,t),"[]=",o(n,t)].join("")};default:return function(e,n){return null===n?o(e,t):[o(e,t),"=",o(n,t)].join("")}}}function r(t){var e;switch(t.arrayFormat){case"index":return function(t,n,r){if(e=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),!e)return void(r[t]=n);void 0===r[t]&&(r[t]={}),r[t][e[1]]=n};case"bracket":return function(t,n,r){if(e=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),!e||void 0===r[t])return void(r[t]=n);r[t]=[].concat(r[t],n)};default:return function(t,e,n){if(void 0===n[t])return void(n[t]=e);n[t]=[].concat(n[t],e)}}}function o(t,e){return e.encode?e.strict?m(t):encodeURIComponent(t):t}function i(t){return Array.isArray(t)?t.sort():"object"==typeof t?i(Object.keys(t)).sort(function(t,e){return Number(t)-Number(e)}).map(function(e){return t[e]}):t}function a(t,e,n){n=n||{},e=e||[];var r,o=n.strict,i=n.end!==!1,u=n.sensitive?"":"i",c=0,s=e.length,f=0,l=0;if(t instanceof RegExp){for(;r=A.exec(t.source);)e.push({name:l++,optional:!1,offset:r.index});return t}if(Array.isArray(t))return t=t.map(function(t){return a(t,e,n).source}),new RegExp("(?:"+t.join("|")+")",u);for(t=("^"+t+(o?"":"/"===t[t.length-1]?"?":"/?")).replace(/\/\(/g,"/(?:").replace(/([\/\.])/g,"\\$1").replace(/(\\\/)?(\\\.)?:(\w+)(\(.*?\))?(\*)?(\?)?/g,function(t,n,r,o,i,a,u,s){n=n||"",r=r||"",i=i||"([^\\/"+r+"]+?)",u=u||"",e.push({name:o,optional:!!u,offset:s+c});var f=(u?"":n)+"(?:"+r+(u?n:"")+i+(a?"((?:[\\/"+r+"].+?)?)":"")+")"+u;return c+=f.length-t.length,f}).replace(/\*/g,function(t,n){for(var r=e.length;r-- >s&&e[r].offset>n;)e[r].offset+=3;return"(.*)"});r=A.exec(t);){for(var d=0,h=r.index;"\\"===t.charAt(--h);)d++;d%2!=1&&((s+f===e.length||e[s+f].offset>r.index)&&e.splice(s+f,0,{name:l++,optional:!1,offset:r.index}),f++)}return t+=i?"$":"/"===t[t.length-1]?"":"(?=\\/|$)",new RegExp(t,u)}function u(t,e,n){var r=n.pathname,o=n.search,i=t.exec(r);if(!i)return null;for(var a={},u=1;u<i.length;u++)a[e[u-1].name]=void 0!==i[u]?i[u]:void 0;return[S({},a,E.parse(o)),i[0]]}function c(t,e){var n=e.exact,r=[];return[x(t,r,{end:!!n}),r]}function s(t,e,n){var r=e.exact,o=void 0!==r&&r;if(!t)return[];var i=""+t+o.toString(),a=k[i]||c(t,{exact:o}),s=P(a,2),f=s[0],l=s[1];return k[i]=[f,l],u(f,l,n)}function f(t,e){var n=t.componentOptions=t.componentOptions||{},r=n.propsData=n.propsData||{};Object.assign(r,e)}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d(t,e){return e={exports:{}},t(e,e.exports),e.exports}var h=function(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})},p=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,g=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,n){for(var r,o,i=e(t),a=1;a<arguments.length;a++){r=Object(arguments[a]);for(var u in r)v.call(r,u)&&(i[u]=r[u]);if(p){o=p(r);for(var c=0;c<o.length;c++)y.call(r,o[c])&&(i[o[c]]=r[o[c]])}}return i},m=h,w=g,b=function(t){return t.split("?")[1]||""},O=function(t,e){e=w({arrayFormat:"none"},e);var n=r(e),o=Object.create(null);return"string"!=typeof t?o:(t=t.trim().replace(/^(\?|#|&)/,""))?(t.split("&").forEach(function(t){var e=t.replace(/\+/g," ").split("="),r=e.shift(),i=e.length>0?e.join("="):void 0;i=void 0===i?null:decodeURIComponent(i),n(decodeURIComponent(r),i,o)}),Object.keys(o).sort().reduce(function(t,e){var n=o[e];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?t[e]=i(n):t[e]=n,t},Object.create(null))):o},j=function(t,e){e=w({encode:!0,strict:!0,arrayFormat:"none"},e);var r=n(e);return t?Object.keys(t).sort().map(function(n){var i=t[n];if(void 0===i)return"";if(null===i)return o(n,e);if(Array.isArray(i)){var a=[];return i.slice().forEach(function(t){void 0!==t&&a.push(r(n,t,a.length))}),a.join("&")}return o(n,e)+"="+o(i,e)}).filter(function(t){return t.length>0}).join("&"):""},E={extract:b,parse:O,stringify:j},x=a,A=/\((?!\?)/g,P=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),S=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},k={},_={name:"MatchFirst",inject:["router"],render:function(t){var e=this;return this.$slots.default.find(function(t){if(!t.componentOptions)return!1;var n=t.componentOptions.propsData;return s(n.path,{exact:n.exact},e.router.location)})}},L={name:"Redirect",inject:["router"],props:{to:{type:String,required:!0}},created:function(){this.router.history.replace(this.to)},render:function(){return null}},C=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},M=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),N={name:"Route",inject:["router"],props:{path:{type:String,default:""},exact:{type:Boolean,default:!1}},render:function(t){var e=s(this.path,{exact:!!this.exact},this.router.location),n=e||[],r=M(n,2),o=r[0],i=r[1],a=C({},o,{url:i,path:this.path});return this.$scopedSlots.children?this.$scopedSlots.children(a):e?this.$scopedSlots.default?this.$scopedSlots.default(a)[0]:(f(this.$slots.default[0],a),this.$slots.default[0]):void 0}},R={name:"RouterLink",inject:["router"],props:{to:{type:String,required:!0},activeClass:{type:String,default:"active"}},methods:{handleClick:function(t){t.preventDefault(),this.router.history.push(this.to)}},render:function(t){var e=this.to,n=s(this.to,{exact:!1},this.router.location);return t("a",{class:l({},this.activeClass,!!n),on:{click:this.handleClick},attrs:{href:e}},this.$slots.default)}},$="production"!==process.env.NODE_ENV,D=function(){};$&&(D=function(t,e,n){var r=arguments.length;n=new Array(r>2?r-2:0);for(var o=2;o<r;o++)n[o-2]=arguments[o];if(void 0===e)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(e.length<10||/^[s\W]*$/.test(e))throw new Error("The warning format should be able to uniquely identify this warning. Please, use a more descriptive format than: "+e);if(!t){var i=0,a="Warning: "+e.replace(/%s/g,function(){return n[i++]});"undefined"!=typeof console&&console.error(a);try{throw new Error(a)}catch(t){}}});var T=D,U=process.env.NODE_ENV,V=function(t,e,n,r,o,i,a,u){if("production"!==U&&void 0===e)throw new Error("invariant requires an error message argument");if(!t){var c;if(void 0===e)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=[n,r,o,i,a,u],f=0;c=new Error(e.replace(/%s/g,function(){return s[f++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}},q=V,H=function(t){return"/"===t.charAt(0)},F=function(t,e){for(var n=e,r=n+1,o=t.length;r<o;n+=1,r+=1)t[n]=t[r];t.pop()},I=function(t){var e=arguments.length<=1||void 0===arguments[1]?"":arguments[1],n=t&&t.split("/")||[],r=e&&e.split("/")||[],o=t&&H(t),i=e&&H(e),a=o||i;if(t&&H(t)?r=n:n.length&&(r.pop(),r=r.concat(n)),!r.length)return"/";var u=void 0;if(r.length){var c=r[r.length-1];u="."===c||".."===c||""===c}else u=!1;for(var s=0,f=r.length;f>=0;f--){var l=r[f];"."===l?F(r,f):".."===l?(F(r,f),s++):s&&(F(r,f),s--)}if(!a)for(;s--;s)r.unshift("..");!a||""===r[0]||r[0]&&H(r[0])||r.unshift("");var d=r.join("/");return u&&"/"!==d.substr(-1)&&(d+="/"),d},B=I,W=d(function(t,e){e.__esModule=!0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function t(e,r){if(e===r)return!0;if(null==e||null==r)return!1;if(Array.isArray(e))return!(!Array.isArray(r)||e.length!==r.length)&&e.every(function(e,n){return t(e,r[n])});var o=void 0===e?"undefined":n(e);if(o!==(void 0===r?"undefined":n(r)))return!1;if("object"===o){var i=e.valueOf(),a=r.valueOf();if(i!==e||a!==r)return t(i,a);var u=Object.keys(e),c=Object.keys(r);return u.length===c.length&&u.every(function(n){return t(e[n],r[n])})}return!1};e.default=r}),Y=d(function(t,e){e.__esModule=!0;e.addLeadingSlash=function(t){return"/"===t.charAt(0)?t:"/"+t},e.stripLeadingSlash=function(t){return"/"===t.charAt(0)?t.substr(1):t},e.stripPrefix=function(t,e){return 0===t.indexOf(e)?t.substr(e.length):t},e.parsePath=function(t){var e=t||"/",n="",r="",o=e.indexOf("#");o!==-1&&(r=e.substr(o),e=e.substr(0,o));var i=e.indexOf("?");return i!==-1&&(n=e.substr(i),e=e.substr(0,i)),{pathname:e,search:"?"===n?"":n,hash:"#"===r?"":r}},e.createPath=function(t){var e=t.pathname,n=t.search,r=t.hash,o=e||"/";return n&&"?"!==n&&(o+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(o+="#"===r.charAt(0)?r:"#"+r),o}}),G=d(function(t,e){function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.locationsAreEqual=e.createLocation=void 0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=B,i=n(o),a=W,u=n(a),c=Y;e.createLocation=function(t,e,n,o){var a=void 0;return"string"==typeof t?(a=(0,c.parsePath)(t),a.state=e):(a=r({},t),void 0===a.pathname&&(a.pathname=""),a.search?"?"!==a.search.charAt(0)&&(a.search="?"+a.search):a.search="",a.hash?"#"!==a.hash.charAt(0)&&(a.hash="#"+a.hash):a.hash="",void 0!==e&&void 0===a.state&&(a.state=e)),a.key=n,o&&(a.pathname?"/"!==a.pathname.charAt(0)&&(a.pathname=(0,i.default)(a.pathname,o.pathname)):a.pathname=o.pathname),a},e.locationsAreEqual=function(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash===e.hash&&t.key===e.key&&(0,u.default)(t.state,e.state)}}),z=d(function(t,e){e.__esModule=!0;var n=T,r=function(t){return t&&t.__esModule?t:{default:t}}(n),o=function(){var t=null,e=function(e){return"production"!==process.env.NODE_ENV&&(0,r.default)(null==t,"A history supports only one prompt at a time"),t=e,function(){t===e&&(t=null)}},n=function(e,n,o,i){if(null!=t){var a="function"==typeof t?t(e,n):t;"string"==typeof a?"function"==typeof o?o(a,i):("production"!==process.env.NODE_ENV&&(0,r.default)(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),i(!0)):i(a!==!1)}else i(!0)},o=[];return{setPrompt:e,confirmTransitionTo:n,appendListener:function(t){return o.push(t),function(){o=o.filter(function(e){return e!==t})}},notifyListeners:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return o.forEach(function(t){return t.apply(void 0,e)})}}};e.default=o}),J=d(function(t,e){e.__esModule=!0;e.canUseDOM=!("undefined"==typeof window||!window.document||!window.document.createElement)}),K=d(function(t,e){e.__esModule=!0;e.addEventListener=function(t,e,n){return t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)},e.removeEventListener=function(t,e,n){return t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent("on"+e,n)},e.getConfirmation=function(t,e){return e(window.confirm(t))},e.supportsHistory=function(){var t=window.navigator.userAgent;return(t.indexOf("Android 2.")===-1&&t.indexOf("Android 4.0")===-1||t.indexOf("Mobile Safari")===-1||t.indexOf("Chrome")!==-1||t.indexOf("Windows Phone")!==-1)&&(window.history&&"pushState"in window.history)},e.supportsPopStateOnHashChange=function(){return window.navigator.userAgent.indexOf("Trident")===-1},e.supportsGoWithoutReloadUsingHash=function(){return window.navigator.userAgent.indexOf("Firefox")===-1}}),Q=d(function(t,e){function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=T,a=n(i),u=q,c=n(u),s=G,f=Y,l=z,d=n(l),h=J,p=K,v=function(){try{return window.history.state||{}}catch(t){return{}}},y=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];h.canUseDOM||("production"!==process.env.NODE_ENV?(0,c.default)(!1,"Browser history needs a DOM"):(0,c.default)(!1));var e=window.history,n=(0,p.supportsHistory)(),i=!(0,p.supportsPopStateOnHashChange)(),u=t.basename,l=void 0===u?"":u,y=t.forceRefresh,g=void 0!==y&&y,m=t.getUserConfirmation,w=void 0===m?p.getConfirmation:m,b=t.keyLength,O=void 0===b?6:b,j=function(t){var e=t||{},n=e.key,r=e.state,i=window.location,a=i.pathname,u=i.search,c=i.hash,s=a+u+c;return l&&(s=(0,f.stripPrefix)(s,l)),o({},(0,f.parsePath)(s),{state:r,key:n})},E=function(){return Math.random().toString(36).substr(2,O)},x=(0,d.default)(),A=function(t){o(I,t),I.length=e.length,x.notifyListeners(I.location,I.action)},P=function(t){void 0!==t.state&&_(j(t.state))},S=function(){_(j(v()))},k=!1,_=function(t){k?(k=!1,A()):function(){x.confirmTransitionTo(t,"POP",w,function(e){e?A({action:"POP",location:t}):L(t)})}()},L=function(t){var e=I.location,n=M.indexOf(e.key);n===-1&&(n=0);var r=M.indexOf(t.key);r===-1&&(r=0);var o=n-r;o&&(k=!0,$(o))},C=j(v()),M=[C.key],N=function(t,o){"production"!==process.env.NODE_ENV&&(0,a.default)(!("object"===(void 0===t?"undefined":r(t))&&void 0!==t.state&&void 0!==o),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var i=(0,s.createLocation)(t,o,E(),I.location);x.confirmTransitionTo(i,"PUSH",w,function(t){if(t){var r=l+(0,f.createPath)(i),o=i.key,u=i.state;if(n)if(e.pushState({key:o,state:u},null,r),g)window.location.href=r;else{var c=M.indexOf(I.location.key),s=M.slice(0,c===-1?0:c+1);s.push(i.key),M=s,A({action:"PUSH",location:i})}else"production"!==process.env.NODE_ENV&&(0,a.default)(void 0===u,"Browser history cannot push state in browsers that do not support HTML5 history"),window.location.href=r}})},R=function(t,o){"production"!==process.env.NODE_ENV&&(0,a.default)(!("object"===(void 0===t?"undefined":r(t))&&void 0!==t.state&&void 0!==o),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var i=(0,s.createLocation)(t,o,E(),I.location);x.confirmTransitionTo(i,"REPLACE",w,function(t){if(t){var r=l+(0,f.createPath)(i),o=i.key,u=i.state;if(n)if(e.replaceState({key:o,state:u},null,r),g)window.location.replace(r);else{var c=M.indexOf(I.location.key);c!==-1&&(M[c]=i.key),A({action:"REPLACE",location:i})}else"production"!==process.env.NODE_ENV&&(0,a.default)(void 0===u,"Browser history cannot replace state in browsers that do not support HTML5 history"),window.location.replace(r)}})},$=function(t){e.go(t)},D=function(){return $(-1)},T=function(){return $(1)},U=0,V=function(t){U+=t,1===U?((0,p.addEventListener)(window,"popstate",P),i&&(0,p.addEventListener)(window,"hashchange",S)):0===U&&((0,p.removeEventListener)(window,"popstate",P),i&&(0,p.removeEventListener)(window,"hashchange",S))},q=!1,H=function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],e=x.setPrompt(t);return q||(V(1),q=!0),function(){return q&&(q=!1,V(-1)),e()}},F=function(t){var e=x.appendListener(t);return V(1),function(){return V(-1),e()}},I={length:e.length,action:"POP",location:C,push:N,replace:R,go:$,goBack:D,goForward:T,block:H,listen:F};return I};e.default=y}),X=function(t){return t&&t.__esModule?t.default:t}(Q),Z=X(),tt={name:"Router",props:{history:{type:Object,required:!0},location:{type:Object,required:!0}},provide:function(){return{router:{location:this.location,history:this.history}}},render:function(t){return this.$slots.default[0]}},et={name:"HistoryRouter",data:function(){return{history:Z,location:Z.location}},created:function(){var t=this,e=function(e){t.$emit("locationChanged",e),Object.assign(t.location,e)};this.history.listen(e)},render:function(t){return t(tt,{props:{history:this.history,location:this.location}},this.$slots.default)}},nt=function(t){var e=t.inject||[];return e.push("router"),t.inject=e,t};t.HistoryRouter=et,t.Router=tt,t.matchPath=s,t.MatchFirst=_,t.Redirect=L,t.Route=N,t.RouterLink=R,t.withRouter=nt,Object.defineProperty(t,"__esModule",{value:!0})});
